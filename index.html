<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>

		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		
		</style>
	</head>
	<body>
		<script src="js/three.js"></script>
		<script src="js/DeviceOrientationControls.js"></script>
		
		<div id="cord "></div> 
		
		<script>
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 75, window.innerWidth/window.innerHeight, 0.1, 1000 );
			//проверка на моб устройство(неполная)
			var mob= false;
			var cord= document.getElementById('cord');;
			if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
                          mob=true;
		          var controls = new THREE.DeviceOrientationControls( camera );
			 
                        }
                        
			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			var geometry = new THREE.BoxGeometry( 1, 1, 1 );
			var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
			var cube = new THREE.Mesh( geometry, material );
			scene.add( cube );

			camera.position.z = 5;

			var cursorX;
			var cursorY;
			
			var wd=document.documentElement.clientWidth/3
			var hd=document.documentElement.clientHeight/3
			document.onmousemove = function(e){
    				cursorX = e.pageX;
    				cursorY = e.pageY;
				}




            var text2 = document.createElement('div');

			text2.style.position = 'absolute';
			text2.style.zIndex = 200;    // if you still don't see the label, try uncommenting this
			text2.style.width = 100;
			text2.style.height = 300;
			text2.style.color= "white";
			text2.style.top = 10 + 'px';
			text2.style.left = 10 + 'px';
			document.body.appendChild(text2);



			var animate = function () {
				requestAnimationFrame( animate );
				
		if (mob)		
		{  
		 cord.textContent.replace="alpha: " + controls.a.toString+ " \n "+ " beta: "+ controls.b.toString + "\n gamma: "+controls.g.toString ; 
		controls.update();
		}else
		{text2.innerHtml="rotation y: " + cube.rotation.y +"\n rotation x: "+cube.rotation.x  +"\n rotation z: "+cube.rotation.z ;
		}
				
				
				
	  		if (cursorX> wd*2)
				cube.rotation.y += 0.02;
			else
				{if (cursorX< wd) cube.rotation.y += -0.02
			else
				cube.rotation.y += 0;}
			
			if (cursorY > hd*2) 
				cube.rotation.x += 0.02;		
				
			else
			
				{if (cursorY < hd) cube.rotation.x += -0.02
			else
				cube.rotation.x += 0;}
					//console.log(cursorX);
                        	
				renderer.render(scene, camera);
			};
				
				 animate();
				
			
		</script>
	</body>
</html>
